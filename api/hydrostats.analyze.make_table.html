
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>make_table &#8212; hydrostats 0.65 documentation</title>
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="time_lag" href="hydrostats.analyze.time_lag.html" />
    <link rel="prev" title="Analysis" href="../Analysis.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hydrostats.analyze.time_lag.html" title="time_lag"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Analysis.html" title="Analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">hydrostats 0.65 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Analysis.html" accesskey="U">Analysis</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="make-table">
<h1>make_table<a class="headerlink" href="#make-table" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="hydrostats.analyze.make_table">
<code class="descclassname">hydrostats.analyze.</code><code class="descname">make_table</code><span class="sig-paren">(</span><em>merged_dataframe</em>, <em>metrics</em>, <em>seasonal_periods=None</em>, <em>mase_m=1</em>, <em>dmod_j=1</em>, <em>nse_mod_j=1</em>, <em>h6_mhe_k=1</em>, <em>h6_ahe_k=1</em>, <em>h6_rmshe_k=1</em>, <em>d1_p_obs_bar_p=None</em>, <em>lm_x_obs_bar_p=None</em>, <em>replace_nan=None</em>, <em>replace_inf=None</em>, <em>remove_neg=False</em>, <em>remove_zero=False</em>, <em>to_csv=None</em>, <em>to_excel=None</em>, <em>location=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hydrostats/analyze.html#make_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrostats.analyze.make_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a table of user selected metrics with optional seasonal analysis.</p>
<p><strong>Notes:</strong> Creates a table with metrics as specified by the user.
Seasonal periods can also be specified in order to compare different
seasons and how well the simulated data matches the observed data. Has
options to save the table to either a csv or an excel workbook. Also has
an option to add a column for the location of the data.</p>
<p><strong>Parameters</strong></p>
<p>merged_dataframe (required): <em>DataFrame</em></p>
<blockquote>
<div>A pandas dataframe input that has two columns of predicted data and
observed data with a datetime index.</div></blockquote>
<p>metrics (required): <em>list</em></p>
<blockquote>
<div>A list of all the metrics that the user wants to calculate. The
metrics abbreviations must be used and can be found in the table of
all the metrics in the documentation.</div></blockquote>
<p>seasonal_periods: “2D List”</p>
<blockquote>
<div>If give, specifies the seasonal periods that the user wants to
analyze (e.g. [[‘06-01’, ‘06-30’], [‘08-12’, ‘11-23’]] would analyze
the dates from June 1st to June 30th and also August 8th to November
23). Note that the entire time series is analyzed with the selected
metrics by default.</div></blockquote>
<p>mase_m: <em>integer</em></p>
<blockquote>
<div>Optional parameter for the mean absolute scaled error (MASE) metric.</div></blockquote>
<p>dmod_j: <em>integer or float</em></p>
<blockquote>
<div>Optional parameter for the modified index of agreement (dmod) metric.</div></blockquote>
<p>nse_mod_j: <em>integer or float</em></p>
<blockquote>
<div>Optional parameter for the modified Nash Sutcliffe (nse_mod) metric.</div></blockquote>
<p>h6_mhe_k: <em>integer or float</em></p>
<blockquote>
<div>Optional parameter for the H6 (MHE) metric.</div></blockquote>
<p>h6_ahe_k: <em>integer or float</em></p>
<blockquote>
<div>Optional parameter for the H6 (AHE) metric</div></blockquote>
<p>h6_rmshe_k: <em>integer or float</em></p>
<blockquote>
<div>Optional parameter for the H6 (RMSHE) metric</div></blockquote>
<p>d1_p_obs_bar_p: <em>float</em></p>
<blockquote>
<div>Optional parameter fot the Legate McCabe Index of Agreement (d1_p).</div></blockquote>
<p>lm_x_obs_bar_p: <em>float</em></p>
<blockquote>
<div>Optional parameter for the Lagate McCabe Efficiency Index (lm_index).</div></blockquote>
<p>replace_nan: <em>float, optional</em></p>
<blockquote>
<div>If given, indicates which value to replace NaN values with in the two
arrays. If None, when a NaN value is found at the i-th position in
the observed OR simulated array, the i-th value of the observed and
simulated array are removed before the computation.</div></blockquote>
<p>replace_inf <em>float, optional</em></p>
<blockquote>
<div>If given, indicates which value to replace Inf values with in the two
arrays. If None, when an inf value is found at the i-th position in
the observed OR simulated array, the i-th value of the observed and
simulated array are removed before the computation.</div></blockquote>
<p>remove_neg <em>boolean, optional</em></p>
<blockquote>
<div>If true, negative numbers will be removed from the observed and
simulated arrays.</div></blockquote>
<p>remove_zero <em>boolean, optional</em></p>
<blockquote>
<div>If true, zeros will be removed from the observed and simulated
arrays.</div></blockquote>
<p>to_csv: <em>string</em></p>
<blockquote>
<div>Filepath and file name of the csv that is written (e.g.
r’/path/to/output_dir/file.csv’).</div></blockquote>
<p>to_excel: <em>string</em></p>
<blockquote>
<div>Filepath and file name of the excel workbook that is written (e.g.
r’/path/to/output_dir/file.xlsx’).</div></blockquote>
<p>location: <em>string</em></p>
<blockquote>
<div>The name of the location that will be created as a column in the
table that is created. Useful for creating a large table with
different datasets.</div></blockquote>
<p><strong>Example</strong></p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">hydrostats</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="kn">import</span> <span class="nn">hydrostats.data</span> <span class="k">as</span> <span class="nn">hd</span>

<span class="c1"># Defining the URLs of the datasets</span>
<span class="n">sfpt_url</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/sfpt_data/magdalena-calamar_interim_data.csv&#39;</span>
<span class="n">glofas_url</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/GLOFAS_Data/magdalena-calamar_ECMWF_data.csv&#39;</span>

<span class="c1"># Merging the data</span>
<span class="n">merged_df</span> <span class="o">=</span> <span class="n">hd</span><span class="o">.</span><span class="n">merge_data</span><span class="p">(</span><span class="n">sfpt_url</span><span class="p">,</span> <span class="n">glofas_url</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SFPT&#39;</span><span class="p">,</span> <span class="s1">&#39;GLOFAS&#39;</span><span class="p">])</span>

<span class="c1"># Printing the table</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hs</span><span class="o">.</span><span class="n">make_table</span><span class="p">(</span><span class="n">merged_dataframe</span><span class="o">=</span><span class="n">merged_df</span><span class="p">,</span>
                    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MAE&#39;</span><span class="p">,</span> <span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;NSE&#39;</span><span class="p">,</span> <span class="s1">&#39;SA&#39;</span><span class="p">],</span>
                    <span class="n">seasonal_periods</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;03-31&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;04-01&#39;</span><span class="p">,</span> <span class="s1">&#39;06-30&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;07-01&#39;</span><span class="p">,</span> <span class="s1">&#39;09-30&#39;</span><span class="p">],</span>
                                      <span class="p">[</span><span class="s1">&#39;10-01&#39;</span><span class="p">,</span> <span class="s1">&#39;12-31&#39;</span><span class="p">]],</span>
                    <span class="n">remove_neg</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_zero</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;Magdalena&#39;</span><span class="p">))</span>

<span class="c1"># Writing the table to a csv</span>
<span class="n">hs</span><span class="o">.</span><span class="n">make_table</span><span class="p">(</span><span class="n">merged_dataframe</span><span class="o">=</span><span class="n">merged_df</span><span class="p">,</span>
                    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MAE&#39;</span><span class="p">,</span> <span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;ACC&#39;</span><span class="p">,</span> <span class="s1">&#39;NSE&#39;</span><span class="p">,</span> <span class="s1">&#39;SA&#39;</span><span class="p">],</span>
                    <span class="n">seasonal_periods</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;03-31&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;04-01&#39;</span><span class="p">,</span> <span class="s1">&#39;06-30&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;07-01&#39;</span><span class="p">,</span> <span class="s1">&#39;09-30&#39;</span><span class="p">],</span>
                                      <span class="p">[</span><span class="s1">&#39;10-01&#39;</span><span class="p">,</span> <span class="s1">&#39;12-31&#39;</span><span class="p">]],</span>
                    <span class="n">remove_neg</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_zero</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;Magdalena&#39;</span><span class="p">,</span>
                    <span class="n">to_csv</span><span class="o">=</span><span class="s1">&#39;magdalena_table.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Metrics.html">Metrics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Analysis.html">Analysis</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Analysis.html"
                        title="previous chapter">Analysis</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hydrostats.analyze.time_lag.html"
                        title="next chapter">time_lag</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/hydrostats.analyze.make_table.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hydrostats.analyze.time_lag.html" title="time_lag"
             >next</a> |</li>
        <li class="right" >
          <a href="../Analysis.html" title="Analysis"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">hydrostats 0.65 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Analysis.html" >Analysis</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Wade Roberts.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>