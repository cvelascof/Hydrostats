
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>make_table &#8212; hydrostats 0.65 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="time_lag" href="hydrostats.analyze.time_lag.html" />
    <link rel="prev" title="Analysis" href="../Analysis.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hydrostats.analyze.time_lag.html" title="time_lag"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Analysis.html" title="Analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">hydrostats 0.65 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Analysis.html" accesskey="U">Analysis</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Metrics.html">Metrics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Analysis.html">Analysis</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Analysis.html"
                        title="previous chapter">Analysis</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hydrostats.analyze.time_lag.html"
                        title="next chapter">time_lag</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/hydrostats.analyze.make_table.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="make-table">
<h1>make_table<a class="headerlink" href="#make-table" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="hydrostats.analyze.make_table">
<code class="descclassname">hydrostats.analyze.</code><code class="descname">make_table</code><span class="sig-paren">(</span><em>merged_dataframe</em>, <em>metrics</em>, <em>seasonal_periods=None</em>, <em>mase_m=1</em>, <em>dmod_j=1</em>, <em>nse_mod_j=1</em>, <em>h6_mhe_k=1</em>, <em>h6_ahe_k=1</em>, <em>h6_rmshe_k=1</em>, <em>d1_p_obs_bar_p=None</em>, <em>lm_x_obs_bar_p=None</em>, <em>replace_nan=None</em>, <em>replace_inf=None</em>, <em>remove_neg=False</em>, <em>remove_zero=False</em>, <em>to_csv=None</em>, <em>to_excel=None</em>, <em>location=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hydrostats/analyze.html#make_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hydrostats.analyze.make_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a table of user selected metrics with optional seasonal analysis.</p>
<p><strong>Notes:</strong> Creates a table with metrics as specified by the user. Seasonal periods can also be
specified in order to compare different seasons and how well the simulated data matches the
observed data. Has options to save the table to either a csv or an excel workbook. Also has
an option to add a column for the location of the data.</p>
<p><strong>Parameters</strong></p>
<p>merged_dataframe (required): <em>DataFrame</em>
&gt; A pandas dataframe input that has two columns of predicted data and observed data with a
datetime index.</p>
<dl class="docutils">
<dt>metrics (required): <em>list</em></dt>
<dd>&gt; A list of all the metrics that the user wants to calculate. The metrics abbreviations must
be used and can be found in the table of all the metrics in the documentation.</dd>
</dl>
<p>seasonal_periods: “2D List”
&gt; If give, specifies the seasonal periods that the user wants to analyze (e.g. [[‘06-01’,
‘06-30’], [‘08-12’, ‘11-23’]] would analyze the dates from June 1st to June 30th and also
August 8th to November 23). Note that the entire time series is analyzed with the selected
metrics by default.</p>
<p>mase_m: <em>integer</em>
&gt; Optional parameter for the mean absolute scaled error (MASE) metric.</p>
<p>dmod_j: <em>integer or float</em>
&gt; Optional parameter for the modified index of agreement (dmod) metric.</p>
<p>nse_mod_j: <em>integer or float</em>
&gt; Optional parameter for the modified Nash Sutcliffe (nse_mod) metric.</p>
<p>h6_mhe_k: <em>integer or float</em>
&gt; Optional parameter for the H6 (MHE) metric.</p>
<p>h6_ahe_k: <em>integer or float</em>
&gt; Optional parameter for the H6 (AHE) metric</p>
<p>h6_rmshe_k: <em>integer or float</em>
&gt; Optional parameter for the H6 (RMSHE) metric</p>
<p>d1_p_obs_bar_p: <em>float</em>
&gt; Optional parameter fot the Legate McCabe Index of Agreement (d1_p).</p>
<p>lm_x_obs_bar_p: <em>float</em>
&gt; Optional parameter for the Lagate McCabe Efficiency Index (lm_index).</p>
<p>replace_nan: <em>float, optional</em>
&gt; If given, indicates which value to replace NaN values with in the two arrays. If None, when
a NaN value is found at the i-th position in the observed OR simulated array, the i-th value
of the observed and simulated array are removed before the computation.</p>
<p>replace_inf <em>float, optional</em>
&gt; If given, indicates which value to replace Inf values with in the two arrays. If None, when
an inf value is found at the i-th position in the observed OR simulated array, the i-th value
of the observed and simulated array are removed before the computation.</p>
<p>remove_neg <em>boolean, optional</em>
&gt; If true, negative numbers will be removed from the observed and simulated arrays.</p>
<p>remove_zero <em>boolean, optional</em>
&gt; If true, zeros will be removed from the observed and simulated arrays.</p>
<p>to_csv: <em>string</em>
&gt; Filepath and file name of the csv that is written (e.g. r’/path/to/output_dir/file.csv’).</p>
<p>to_excel: <em>string</em>
&gt; Filepath and file name of the excel workbook that is written
(e.g. r’/path/to/output_dir/file.xlsx’).</p>
<p>location: <em>string</em>
&gt; The name of the location that will be created as a column in the table that is created.
Useful for creating a large table with different datasets.</p>
<p><strong>Example</strong></p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>python</p>
<p>import hydrostats as hs
import hydrostats.data as hd</p>
<p># Defining the URLs of the datasets
sfpt_url = r’<a class="reference external" href="https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/sfpt_data/magdalena-calamar_interim_data.csv">https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/sfpt_data/magdalena-calamar_interim_data.csv</a>’
glofas_url = r’<a class="reference external" href="https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/GLOFAS_Data/magdalena-calamar_ECMWF_data.csv">https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/GLOFAS_Data/magdalena-calamar_ECMWF_data.csv</a>’</p>
<p># Merging the data
merged_df = hd.merge_data(sfpt_url, glofas_url, column_names=[‘SFPT’, ‘GLOFAS’])</p>
<p># Printing the table
print(hs.make_table(merged_dataframe=merged_df,</p>
<blockquote>
<div><p>metrics=[‘MAE’, ‘r2’, ‘ACC’, ‘NSE’, ‘SA’],
seasonal_periods=[[‘01-01’, ‘03-31’], [‘04-01’, ‘06-30’], [‘07-01’, ‘09-30’],</p>
<blockquote>
<div>[‘10-01’, ‘12-31’]],</div></blockquote>
<p>remove_neg=True, remove_zero=True, location=’Magdalena’))</p>
</div></blockquote>
<p># Writing the table to a csv
hs.make_table(merged_dataframe=merged_df,</p>
<blockquote>
<div><p>metrics=[‘MAE’, ‘r2’, ‘ACC’, ‘NSE’, ‘SA’],
seasonal_periods=[[‘01-01’, ‘03-31’], [‘04-01’, ‘06-30’], [‘07-01’, ‘09-30’],</p>
<blockquote>
<div>[‘10-01’, ‘12-31’]],</div></blockquote>
<p>remove_neg=True, remove_zero=True, location=’Magdalena’,
to_csv=’magdalena_table.csv’)</p>
</div></blockquote>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hydrostats.analyze.time_lag.html" title="time_lag"
             >next</a> |</li>
        <li class="right" >
          <a href="../Analysis.html" title="Analysis"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">hydrostats 0.65 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Analysis.html" >Analysis</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Wade Roberts.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>