
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>plot &#8212; hydrostats 0.75 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hist" href="hydrostats.visual.hist.html" />
    <link rel="prev" title="Visualization (hydrostats.visual)" href="../Visualization.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hydrostats.visual.hist.html" title="hist"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Visualization.html" title="Visualization (hydrostats.visual)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">hydrostats 0.75 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Visualization.html" accesskey="U">Visualization (hydrostats.visual)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="plot">
<h1>plot<a class="headerlink" href="#plot" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="hydrostats.visual.plot">
<code class="descclassname">hydrostats.visual.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>merged_data_df</em>, <em>legend=('Simulated Data'</em>, <em>'Observed Data')</em>, <em>metrics=None</em>, <em>grid=False</em>, <em>title=None</em>, <em>x_season=False</em>, <em>labels=None</em>, <em>linestyles=('ro'</em>, <em>'b^')</em>, <em>tight_xlim=False</em>, <em>fig_size=(10</em>, <em>6)</em>, <em>text_adjust=(-0.35</em>, <em>0.75)</em>, <em>plot_adjust=0.27</em>, <em>transparency=0.5</em>, <em>ebars=None</em>, <em>ecolor=None</em>, <em>markersize=2</em>, <em>errorevery=1</em>, <em>markevery=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hydrostats.visual.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a comparison time series line plot of simulated and observed time series data.</p>
<p>The time series plot is a function that is available for viewing two times series plotted side
by side vs. time. Goodness of fit metrics can also be viewed on the plot to compare the two
time series.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>merged_data_df: DataFrame</strong></dt>
<dd><p class="first last">DataFrame must contain datetime index and floating point type numbers in the two columns.
The left columns must be simulated data and the right column observed data.</p>
</dd>
<dt><strong>legend: tuple of str</strong></dt>
<dd><p class="first last">Adds a Legend in the ‘best’ location determined by matplotlib. The entries in the tuple describe the left and
right columns of the merged_data_df data.</p>
</dd>
<dt><strong>metrics: list of str</strong></dt>
<dd><p class="first last">Adds Metrics to the left side of the plot. Any metric from the Hydrostats library can
be added to the plot as the abbreviation of the function. The entries must be in a list.
(e.g. [‘ME’, ‘r2’, ‘KGE (2012)’]).</p>
</dd>
<dt><strong>grid: bool</strong></dt>
<dd><p class="first last">If True, adds a grid to the plot.</p>
</dd>
<dt><strong>title: str</strong></dt>
<dd><p class="first last">If given, adds a title to the plot.</p>
</dd>
<dt><strong>x_season: bool</strong></dt>
<dd><p class="first last">If True, the x-axis ticks will be monthly. This is a useful feature when plotting seasonal
time series comparisons (e.g. daily averages).</p>
</dd>
<dt><strong>labels: list of str</strong></dt>
<dd><p class="first last">List of two str type inputs specifying x-axis labels and y-axis labels, respectively.</p>
</dd>
<dt><strong>linestyles: list of str</strong></dt>
<dd><p class="first last">List of two string type inputs thet will change the linestyle of the predicted and
recorded data, respectively. Linestyle references can be found in
<a class="reference internal" href="../matplotlib_linestyles.html#matplotlib-linestyles"><span class="std std-ref">Matplotlib Linestyles Help</span></a>.</p>
</dd>
<dt><strong>tight_xlim: bool</strong></dt>
<dd><p class="first last">If true, will set the padding to zero for the lines in the line plot.</p>
</dd>
<dt><strong>fig_size: tuple of floats</strong></dt>
<dd><p class="first last">Tuple of length two that specifies the horizontal and vertical lengths of the plot in
inches, respectively.</p>
</dd>
<dt><strong>text_adjust: tuple</strong></dt>
<dd><p class="first last">Tuple of length two with float type inputs indicating the relative position of the text
(x-coordinate, y-coordinate) when adding metrics to the plot.</p>
</dd>
<dt><strong>plot_adjust: float</strong></dt>
<dd><p class="first last">Specifies the relative position to shift the plot the the right when adding metrics to the
plot.</p>
</dd>
<dt><strong>transparency: float</strong></dt>
<dd><p class="first last">Value between 0 to 1 indicating the transparency of the two lines that are plotted and
error bars if they are plotted, lower means more transparent.</p>
</dd>
<dt><strong>ebars: DataFrame</strong></dt>
<dd><p class="first last">DataFrame must contain datetime index and two columns of data that specify the error
of the plots, with the simulated error on the left and the observed error on the right.
These dataframes can be created with the
<a class="reference internal" href="hydrostats.data.daily_std_error.html"><span class="doc">daily_std_error</span></a>,
<a class="reference internal" href="hydrostats.data.daily_std_dev.html"><span class="doc">daily_std_dev</span></a>,
<a class="reference internal" href="hydrostats.data.monthly_std_error.html"><span class="doc">monthly_std_error</span></a>, and
<a class="reference internal" href="hydrostats.data.monthly_std_dev.html"><span class="doc">monthly_std_dev</span></a> functions.</p>
</dd>
<dt><strong>ecolor: tuple of str</strong></dt>
<dd><p class="first last">Tuple of two sting type inputs specifying the colors of the errorbars (e.g. [‘r’, ‘k’] would
make red and black errorbars on the simulated and observed data, respectively).</p>
</dd>
<dt><strong>markersize: float</strong></dt>
<dd><p class="first last">Indicates the size of the markers on the plot, if markers are used.</p>
</dd>
<dt><strong>errorevery: int</strong></dt>
<dd><p class="first last">Specifies how often to put error bars on the plot.</p>
</dd>
<dt><strong>markevery: int</strong></dt>
<dd><p class="first last">Specifies how often to put markers on the plot if markers are used.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>fig</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Matplotlib figure instance</span></dt>
<dd><p class="first last">A matplotlib figure handle is returned, which can be viewed with the matplotlib.pyplot.show() command.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>In this example two models are compared.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hydrostats.data</span> <span class="k">as</span> <span class="nn">hd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hydrostats.visual</span> <span class="k">as</span> <span class="nn">hv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sfpt_url</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/sfpt_data/magdalena-calamar_interim_data.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glofas_url</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;https://github.com/waderoberts123/Hydrostats/raw/master/Sample_data/GLOFAS_Data/magdalena-calamar_ECMWF_data.csv&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">merged_df</span> <span class="o">=</span> <span class="n">hd</span><span class="o">.</span><span class="n">merge_data</span><span class="p">(</span><span class="n">sfpt_url</span><span class="p">,</span> <span class="n">glofas_url</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;SFPT&#39;</span><span class="p">,</span> <span class="s1">&#39;GLOFAS&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seasonal_df</span> <span class="o">=</span> <span class="n">hd</span><span class="o">.</span><span class="n">seasonal_period</span><span class="p">(</span><span class="n">merged_df</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;04-01&#39;</span><span class="p">,</span> <span class="s1">&#39;07-31&#39;</span><span class="p">),</span> <span class="n">time_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1986-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;1992-12-31&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily_avg_df</span> <span class="o">=</span> <span class="n">hd</span><span class="o">.</span><span class="n">daily_average</span><span class="p">(</span><span class="n">merged_data</span><span class="o">=</span><span class="n">merged_df</span><span class="p">)</span>  <span class="c1"># Seasonal Daily Averages</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily_std_error</span> <span class="o">=</span> <span class="n">hd</span><span class="o">.</span><span class="n">daily_std_error</span><span class="p">(</span><span class="n">merged_data</span><span class="o">=</span><span class="n">merged_df</span><span class="p">)</span>  <span class="c1"># Seasonal Daily Standard Deviation</span>
</pre></div>
</div>
<p>The entire timeseries is plotted below</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">merged_data_df</span><span class="o">=</span><span class="n">merged_df</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Hydrograph of Entire Time Series&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">linestyles</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="s1">&#39;k-&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">legend</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;SFPT&#39;</span><span class="p">,</span> <span class="s1">&#39;GLOFAS&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;Streamflow (cfs)&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ME&#39;</span><span class="p">,</span> <span class="s1">&#39;NSE&#39;</span><span class="p">,</span> <span class="s1">&#39;SA&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/plot_full1.png" src="../_images/plot_full1.png" />
<p>The seasonal averages with standard error bars is plotted below</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">merged_data_df</span><span class="o">=</span><span class="n">daily_avg_df</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Daily Average Streamflow (Standard Error)&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">legend</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;SFPT&#39;</span><span class="p">,</span> <span class="s1">&#39;GLOFAS&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">x_season</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;Streamflow (csm)&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">linestyles</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="s1">&#39;k-&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">fig_size</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">ebars</span><span class="o">=</span><span class="n">daily_std_error</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">ecolor</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="n">tight_xlim</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span>     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/plot_seasonal.png" src="../_images/plot_seasonal.png" />
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Preprocessing.html">Preprocessing (hydrostats.data)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Visualization.html">Visualization (hydrostats.visual)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Metrics.html">Metrics of Hydrological Skill (hydrostats.metrics)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ens_metrics.html">Metrics of Ensemble Forecast Skill (hydrostats.ens_metrics)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Analysis.html">Analysis (hydrostats.analyze)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref_table.html">Quick Reference Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plot_types.html">List of Plot File Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timezones.html">List of Timezones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matplotlib_linestyles.html">Matplotlib Linestyles Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../change_log.html">Release Notes</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Visualization.html"
                        title="previous chapter">Visualization (hydrostats.visual)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hydrostats.visual.hist.html"
                        title="next chapter">hist</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/hydrostats.visual.plot.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hydrostats.visual.hist.html" title="hist"
             >next</a> |</li>
        <li class="right" >
          <a href="../Visualization.html" title="Visualization (hydrostats.visual)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">hydrostats 0.75 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Visualization.html" >Visualization (hydrostats.visual)</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Wade Roberts.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>